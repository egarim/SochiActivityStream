@* SignUp Content Component - Reusable sign-up form UI *@
@using SocialKit.Components.ViewModels

<div class="sk-auth-container d-flex justify-content-center align-items-center" style="min-height:80vh;">
    <DxCard CssClass="sk-auth-card" style="max-width:420px;width:100%;">
        <BodyTemplate>
            <div class="p-4">
                <div class="text-center mb-4">
                    @if (LogoContent != null)
                    {
                        @LogoContent
                    }
                    else
                    {
                        <h2>Create Account</h2>
                        <p class="text-muted">It's quick and easy.</p>
                    }
                </div>
                
                <EditForm Model="@ViewModel" OnValidSubmit="@(() => ViewModel.SignUpCommand.ExecuteAsync(null))">
                    @if (!string.IsNullOrEmpty(ViewModel.ErrorMessage))
                    {
                        <div class="alert alert-danger" role="alert">
                            <i class="fas fa-exclamation-circle me-2"></i>@ViewModel.ErrorMessage
                        </div>
                    }
                    
                    <DxTextBox @bind-Text="@ViewModel.DisplayName"
                               NullText="Display Name"
                               CssClass="mb-3" />
                    
                    <DxTextBox @bind-Text="@ViewModel.Handle"
                               NullText="Username"
                               CssClass="mb-3" />
                    
                    <DxTextBox @bind-Text="@ViewModel.Email"
                               NullText="Email address"
                               CssClass="mb-3" />
                    
                    <DxTextBox @bind-Text="@ViewModel.Password"
                               NullText="Password (min 6 characters)"
                               Password="true"
                               CssClass="mb-3" />
                    
                    <DxButton Text="@(ViewModel.IsBusy ? "Signing up..." : "Sign Up")"
                              RenderStyle="ButtonRenderStyle.Success"
                              CssClass="w-100 mb-3"
                              SizeMode="SizeMode.Large"
                              SubmitFormOnClick="true"
                              Enabled="@(!ViewModel.IsBusy)" />
                </EditForm>
                
                <hr />
                
                <div class="text-center">
                    <DxButton Text="Already have an account?"
                              RenderStyle="ButtonRenderStyle.Link"
                              Click="@(() => ViewModel.NavigateToLoginCommand.ExecuteAsync(null))" />
                </div>
            </div>
        </BodyTemplate>
    </DxCard>
</div>

@code {
    [Parameter, EditorRequired] public SignUpViewModel ViewModel { get; set; } = null!;
    [Parameter] public RenderFragment? LogoContent { get; set; }
}
