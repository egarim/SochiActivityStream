@* Confirm Dialog using MudBlazor *@
@using Sochi.Navigation.Dialogs

<MudCard Elevation="2">
    <MudCardHeader>
        <CardHeaderContent>
            <MudText Typo="Typo.h6">@Title</MudText>
        </CardHeaderContent>
    </MudCardHeader>
    <MudCardContent>
        <MudText>@Message</MudText>
    </MudCardContent>
    <MudCardActions Class="d-flex justify-content-end gap-2">
        <MudButton id="confirm-no"
                   Variant="Variant.Outlined"
                   OnClick="Cancel">Cancel</MudButton>
        <MudButton id="confirm-yes"
                   Color="Color.Primary"
                   Variant="Variant.Filled"
                   OnClick="Confirm">Confirm</MudButton>
    </MudCardActions>
</MudCard>

@code {
    [Parameter] public IDialogParameters? Parameters { get; set; }
    [Parameter] public EventCallback<IDialogResult> OnClose { get; set; }
    
    private string Title => Parameters?.GetValue<string>("Title") ?? "Confirm";
    private string Message => Parameters?.GetValue<string>("Message") ?? "Are you sure?";
    
    private async Task Confirm()
    {
        var result = Sochi.Navigation.Dialogs.DialogResult.Ok();
        await OnClose.InvokeAsync(result);
    }
    
    private async Task Cancel()
    {
        var result = Sochi.Navigation.Dialogs.DialogResult.Cancel();
        await OnClose.InvokeAsync(result);
    }
}
