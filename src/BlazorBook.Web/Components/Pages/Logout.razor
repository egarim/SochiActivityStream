@page "/logout"
@inject ICurrentUserService CurrentUser
@inject NavigationManager Navigation
@rendermode InteractiveServer

<PageTitle>Logging Out - BlazorBook</PageTitle>

<div class="sk-auth-container">
    <MudCard Class="text-center mx-auto" Style="max-width: 420px;" Elevation="2">
        <MudCardContent>
            <div class="p-4">
                <MudProgressCircular Indeterminate="true" />
                <MudText Class="mt-3">Logging you out...</MudText>
            </div>
        </MudCardContent>
    </MudCard>
</div>

@code {
    protected override async Task OnInitializedAsync()
    {
        await CurrentUser.SignOutAsync();
        await Task.Delay(500);
        Navigation.NavigateTo("/login", forceLoad: true);
    }
}
