@page "/logout"
@inject ICurrentUserService CurrentUser
@inject NavigationManager Navigation
@rendermode InteractiveServer

<PageTitle>Logging Out - BlazorBook</PageTitle>

<div class="sk-auth-container">
    <DxCard CssClass="text-center mx-auto" style="max-width: 420px;">
        <BodyTemplate>
            <div class="p-4">
                <DxLoadingPanel Visible="true" />
                <p class="mt-3">Logging you out...</p>
            </div>
        </BodyTemplate>
    </DxCard>
</div>

@code {
    protected override async Task OnInitializedAsync()
    {
        await CurrentUser.SignOutAsync();
        await Task.Delay(500);
        Navigation.NavigateTo("/", forceLoad: true);
    }
}
